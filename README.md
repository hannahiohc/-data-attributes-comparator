# Data Attributes Comparator

This JavaScript bookmarklet allows you to compare data-attributes between KR and US page. It shows a modal that displays the results, categorizing them into matched and mismatched attributes.

## How to Use

1. Create a new bookmark in your browser.
2. Copy and paste the bookmarklet code into the bookmark's URL field.
```
javascript:!function()%7Bconst%20currentUrl%3Dwindow.location.href%3Blet%20modifiedUrl%2CcurrentHeading%2Cdoc%2CmodalContainer%2CmatchedResults%3D%5B%5D%2CmismatchedResults%3D%5B%5D%3BcurrentUrl.includes(%22%2Fkr%2F%22)%3F(modifiedUrl%3DcurrentUrl.replace(%22%2Fkr%2F%22%2C%22%2F%22)%2CcurrentHeading%3D%22KR%22)%3AcurrentUrl.endsWith(%22%2F%22)%3F(modifiedUrl%3DcurrentUrl.replace(%22.com%2F%22%2C%22.com%2Fkr%2F%22)%2CcurrentHeading%3D%22US%22)%3A(modifiedUrl%3DcurrentUrl.replace(%22.com%22%2C%22.com%2Fkr%2F%22)%2CcurrentHeading%3D%22US%22)%3B(()%3D%3E%7Bconst%20existingModal%3Ddocument.getElementById(%22comparisonModal%22)%3BexistingModal%26%26existingModal.remove()%2C(modalContainer%3Ddocument.createElement(%22div%22)).id%3D%22comparisonModal%22%2CmodalContainer.style.display%3D%22none%22%2Cdocument.body.appendChild(modalContainer)%7D)()%3Bconst%20compareAttributes%3Dattribute%3D%3E%7Bconst%20krElements%3Ddocument.querySelectorAll(%60%5Bdata-%24%7Battribute%7D%5D%60)%2CusElements%3Ddoc.querySelectorAll(%60%5Bdata-%24%7Battribute%7D%5D%60)%3BkrElements.forEach((krElement%2Cindex)%3D%3E%7Bconst%20usElement%3DusElements%5Bindex%5D%3Bif(krElement%26%26usElement%26%26krElement.tagName%3D%3D%3DusElement.tagName%26%26krElement.className%3D%3D%3DusElement.className%26%26krElement.id%3D%3D%3DusElement.id)%7Bconst%20krValue%3DkrElement.getAttribute(%60data-%24%7Battribute%7D%60)%2CusValue%3DusElement.getAttribute(%60data-%24%7Battribute%7D%60)%3BkrValue%3D%3D%3DusValue%3FmatchedResults.push(%7BAttribute%3A%60%5Bdata-%24%7Battribute%7D%5D%60%2CKR%3AkrValue%2CUS%3AusValue%7D)%3AmismatchedResults.push(%7BAttribute%3A%60%5Bdata-%24%7Battribute%7D%5D%60%2CKR%3AkrValue%2CUS%3AusValue%7D)%7D%7D)%7D%2CfetchAndCompare%3Durl%3D%3Efetch(url).then(response%3D%3Eresponse.text()).then(html%3D%3E%7Bconst%20parser%3Dnew%20DOMParser%3Bif(doc%3Dparser.parseFromString(html%2C%22text%2Fhtml%22)%2Cattributes.forEach(compareAttributes)%2CmatchedResults.length%3E0%7C%7CmismatchedResults.length%3E0)%7Bconst%20matchedContent%3DmatchedResults.length%3E0%3FgenerateTableContent(%22Matched%20Attributes%22%2CmatchedResults)%3A%22No%20matched%20attributes%20found.%22%2CmismatchedContent%3DmismatchedResults.length%3E0%3FgenerateTableContent(%22Mismatched%20Attributes%22%2CmismatchedResults)%3A%22No%20mismatches%20found.%22%3Bcontent%3DmismatchedContent%2BmatchedContent%2CmodalContainer.innerHTML%3D%60%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22width%3A%2070%25%3B%20max-width%3A%20800px%3B%20height%3A%20fit-content%3B%20max-height%3A%2080%25%3B%20background%3A%20rgba(255%2C%20255%2C%20255%2C%200.9)%3B%20margin%3A%2020px%2015px%3B%20padding%3A%2015px%2015px%200%2015px%3B%20position%3A%20fixed%3B%20top%3A%2050%25%3B%20left%3A%2050%25%3B%20transform%3A%20translate(-50%25%2C%20-50%25)%3B%20z-index%3A%2099999%3B%20overflow-y%3A%20auto%3B%20box-shadow%3A%20rgba(68%2C%2068%2C%2068%2C%200.12)%205px%205px%205px%200px%3B%20font-size%3A%2013px%3B%20color%3A%20%23444%3B%20border-radius%3A%2015px%3B%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Bcontent%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%5Cn%20%20%20%20%20%20%20%20%60%2CmodalContainer.style.display%3D%22block%22%7Delse%20console.log(%22No%20attributes%20found%20for%20comparison.%22)%7D).catch(error%3D%3Econsole.error(%22Error%20fetching%20content%3A%22%2Cerror))%3Bvar%20content%3Bconst%20generateTableContent%3D(title%2Cresults)%3D%3E%7Breturn%60%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20style%3D%22font-size%3A%2020px%3B%20color%3A%20%23333%3B%22%3E%24%7Btitle%7D%3C%2Fh3%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctable%20style%3D%22width%3A%20100%25%3B%20margin-top%3A%205px%3B%20margin-bottom%3A%2030px%3B%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20style%3D%22font-weight%3A%20600%3B%20font-size%3A%2014px%3B%20background-color%3A%20%23cddafd%3B%22%3EAttribute%3C%2Fth%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20style%3D%22font-weight%3A%20600%3B%20font-size%3A%2014px%3B%20background-color%3A%20%23cddafd%3B%22%3EKR%3C%2Fth%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20style%3D%22font-weight%3A%20600%3B%20font-size%3A%2014px%3B%20background-color%3A%20%23cddafd%3B%22%3EUS%3C%2Fth%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Bresults.map(match%3D%3E%60%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%20style%3D%22border-bottom%3A%201px%20solid%20%23ddd%3B%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding-right%3A%2010px%3B%22%3E%24%7Bmatch.Attribute%7D%3C%2Ftd%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20style%3D%22padding-right%3A%2010px%3B%22%3E%24%7Bmatch.KR%7D%3C%2Ftd%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%24%7Bmatch.US%7D%3C%2Ftd%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftr%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60).join(%22%22)%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Ftable%3E%5Cn%20%20%20%20%20%20%20%20%60%7D%2Cattributes%3D%5B%22component-list%22%2C%22analytics-section-engagement%22%2C%22analytics-click%22%2C%22analytics-title%22%2C%22pricing-product%22%2C%22product-template%22%2C%22analytics-intrapage-link%22%2C%22lazy%22%2C%22empty%22%2C%22will-show%22%2C%22modal-close%22%2C%22video-id%22%2C%22tradein-product%22%5D%3BfetchAndCompare(%22KR%22%3D%3D%3DcurrentHeading%3FmodifiedUrl%3AcurrentUrl)%7D()%3B
```
3. Click the bookmark when you're on the desired page.

## Supported Data Attributes

- `data-component-list`
- `data-analytics-section-engagement`
- `data-analytics-click`
- `data-analytics-title`
- `data-pricing-product`
- `data-product-template`
- `data-analytics-intrapage-link`
- `data-lazy`
- `data-empty`
- `data-will-show`
- `data-video-id`
- `data-tradein-product`